# =============================================================================
# VIBECAST CONFIGURATION
# =============================================================================
# This file defines everything about your podcast's personality.
# Change the vibe, change the show.
#
# ⚠️  IF YOU FORKED/CLONED THIS REPO: Update these before deploying!
#     - podcast.author (line ~65)
#     - podcast.github_url (line ~73)
#     - location.name, lat, lon (line ~107-109)
#
# PRIVACY TIP: Use environment variables instead of hardcoding personal info.
# Set these in .env (local) or GitHub Secrets (for Actions):
#   - VIBECAST_AUTHOR, VIBECAST_OWNER_EMAIL
#   - VIBECAST_LOCATION_NAME, VIBECAST_LOCATION_LAT, VIBECAST_LOCATION_LON
#   - VIBECAST_SITE_URL, VIBECAST_FEED_URL, VIBECAST_R2_PUBLIC_URL
#   - VIBECAST_TIMEZONE
#
# See .env.example for a complete template.
# =============================================================================

# =============================================================================
# THE VIBE - Core personality of your podcast
# =============================================================================
vibe:
  name: "Morning Thread"
  
  mood:
    primary: "curious"
    secondary: "informed"
    energy: "engaged-but-chill"
  
  voice_persona:
    name: "Your friend who finds the interesting stuff"
    personality:
      - "genuinely curious about how things work"
      - "explains why things matter, not just what happened"
      - "conversational but doesn't waste your time"
      - "finds signal in the noise"
      - "makes you smarter without trying too hard"
    greetings:
      - "Morning. Here's what caught my attention."
      - "Hey. Found some things you might actually care about."
      - "Good morning. Let's talk about what's interesting today."
    closings:
      - "That's the thread for today. Go make something happen."
      - "Alright, that's what I'm following. See you tomorrow."
      - "That's it for today. Catch you next time."
  
  avoid:
    emotions: ["fear", "outrage", "panic", "doom"]
    language: ["shocking", "you won't believe", "slams", "destroys", "crisis"]
    topics: ["violence", "disaster", "political attacks", "celebrity drama"]
  
  embrace:
    emotions: ["curiosity", "insight", "discovery", "understanding", "progress"]
    language: ["developed", "discovered", "published", "analyzed", "demonstrated", "achieved"]
    topics: ["research", "innovation", "science", "technology", "breakthroughs", "systems", "infrastructure", "exploration"]

# =============================================================================
# PODCAST IDENTITY
# =============================================================================
podcast:
  title: "Vibecast: Morning Thread"
  tagline: "Tech, science, and what's actually interesting"
  description: "A short daily podcast following the most interesting threads in AI, space, and technology. No hype, just what matters."
  author: "Dominic"                    # Override: VIBECAST_AUTHOR
  language: "en-us"
  category: "News"
  subcategory: "Daily News"
  explicit: "no"
  artwork_url: ""
  site_url: ""                           # Override: VIBECAST_SITE_URL
  feed_url: ""                           # Override: VIBECAST_FEED_URL
  github_url: "https://github.com/domcritchlow/vibecast"  # Link shown in footer

# =============================================================================
# EPISODE STRUCTURE
# =============================================================================
episode:
  target_minutes: 4
  
  structure:
    - segment: "greeting"
      duration: "~15 seconds"
    - segment: "weather"
      duration: "~30 seconds"
    - segment: "stories"
      duration: "~2.5 minutes"
      count: "4-6"
    - segment: "closing"
      duration: "~30 seconds"
  
  pacing:
    include_pauses: true
    pause_between_stories: "0.6s"
    pause_after_greeting: "0.5s"
    overall_tempo: "upbeat"

# =============================================================================
# LOCATION (for weather)
# =============================================================================
# Set your location via environment variables for privacy:
#   VIBECAST_LOCATION_NAME="Stuttgart, Germany"
#   VIBECAST_LOCATION_LAT=48.7758
#   VIBECAST_LOCATION_LON=9.1829
#
location:
  name: "Your City"                      # Override: VIBECAST_LOCATION_NAME
  lat: 0.0                               # Override: VIBECAST_LOCATION_LAT
  lon: 0.0                               # Override: VIBECAST_LOCATION_LON
  units: "celsius"                       # Options: celsius, fahrenheit

# =============================================================================
# CONTENT SOURCES
# =============================================================================
sources:
  rss:
    # ==========================================================================
    # AI & TECH COMPANIES (Diverse perspectives)
    # ==========================================================================
    
    - name: "OpenAI News"
      url: "https://openai.com/news/rss.xml"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["ai", "research"]

    - name: "Anthropic News"
      url: "https://www.anthropic.com/news/rss.xml"
      enabled: false  # RSS parsing error
      max_items: 2
      trust_score: 0.95
      tags: ["ai", "research"]

    - name: "Google AI Blog"
      url: "https://blog.research.google/feeds/posts/default"
      enabled: false  # DNS lookup error
      max_items: 2
      trust_score: 0.95
      tags: ["ai", "research"]

    - name: "DeepMind Blog"
      url: "https://deepmind.google/blog/rss.xml"
      enabled: true
      max_items: 1
    
    - name: "Stanford HAI"
      url: "https://hai.stanford.edu/news/rss.xml"
      enabled: false  # RSS parsing error
      max_items: 1
    
    - name: "Meta AI Blog"
      url: "https://ai.meta.com/blog/rss/"
      enabled: false  # RSS parsing error
      max_items: 1
      trust_score: 0.95
      tags: ["ai", "research"]

    - name: "Microsoft Research Blog"
      url: "https://www.microsoft.com/en-us/research/feed/"
      enabled: true
      max_items: 1
      trust_score: 0.90
      tags: ["ai", "research"]

    - name: "Hugging Face Blog"
      url: "https://huggingface.co/blog/feed.xml"
      enabled: true
      max_items: 1
      trust_score: 0.85
      tags: ["ai", "open-source"]

    # ==========================================================================
    # QUALITY TECH JOURNALISM (Substantive, not hype)
    # ==========================================================================
    
    - name: "MIT Technology Review"
      url: "https://www.technologyreview.com/feed/"
      enabled: true
      max_items: 2
      trust_score: 0.90
      tags: ["tech", "research", "analysis"]

    - name: "Ars Technica"
      url: "https://feeds.arstechnica.com/arstechnica/index"
      enabled: true
      max_items: 2
      trust_score: 0.85
      tags: ["tech", "science"]

    - name: "The Verge"
      url: "https://www.theverge.com/rss/index.xml"
      enabled: true
      max_items: 1
    
    - name: "Wired"
      url: "https://www.wired.com/feed/rss"
      enabled: true
      max_items: 1
    
    - name: "Rest of World"
      url: "https://restofworld.org/feed/latest/"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["tech", "culture"]

    - name: "Benedict Evans"
      url: "https://www.ben-evans.com/benedictevans/rss"
      enabled: false  # RSS syntax error
      max_items: 1
      trust_score: 0.90
      tags: ["tech", "analysis"]

    - name: "Hacker News (AI filtered)"
      url: "https://hnrss.org/newest?q=AI+OR+LLM+OR+agent+OR+robot"
      enabled: true
      max_items: 2
      trust_score: 0.75
      tags: ["ai", "tech", "discussion"]

    # ==========================================================================
    # SPACE & SCIENCE
    # ==========================================================================
    
    - name: "NASA Science"
      url: "https://science.nasa.gov/feed/"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["space", "science"]

    - name: "NASA JPL News"
      url: "https://www.jpl.nasa.gov/feeds/news/"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["space", "research"]

    - name: "Space.com"
      url: "https://www.space.com/feeds/all"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["space"]

    - name: "Quanta Magazine"
      url: "https://www.quantamagazine.org/feed/"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["science", "math", "physics"]

    - name: "Nature News"
      url: "https://www.nature.com/nature.rss"
      enabled: true
      max_items: 1
      trust_score: 0.95
      tags: ["science", "research"]

    # ==========================================================================
    # THOUGHTFUL POSITIVE (Not saccharine)
    # ==========================================================================
    
    - name: "Positive News"
      url: "https://positive.news/feed/"
      enabled: true
      max_items: 1
      trust_score: 0.85
      tags: ["constructive"]

    # ==========================================================================
    # PERSONAL INTERESTS
    # ==========================================================================
    
    - name: "iRunFar"
      url: "https://www.irunfar.com/feed"
      enabled: false  # Disable if not relevant to you
      max_items: 1
      trust_score: 0.80
      tags: ["running", "fitness"]

    - name: "Dezeen"
      url: "https://www.dezeen.com/feed/"
      enabled: false  # Disable if not relevant to you
      max_items: 1
      trust_score: 0.80
      tags: ["design"]

    - name: "Gothamist (NYC)"
      url: "https://gothamist.com/feed"
      enabled: false  # Disable if not relevant to you
      max_items: 1
      trust_score: 0.75
      tags: ["nyc", "local"]


  api: []
  
  weather:
    provider: "open-meteo"
    include_forecast: true
    forecast_days: 1

  # --- Episode artwork ---
  # Image shown for each episode in podcast apps
  episode_image:
    provider: "nasa"           # Options: nasa (more providers coming)
    
    # NASA-specific settings
    nasa:
      prefer: "apod"           # apod (daily astronomy photo), library (searchable archive), random
      search_terms:            # Used when fetching from NASA Image Library
        - "earth from space"
        - "nebula"
        - "galaxy"
        - "aurora"
        - "sunrise from space"
        - "hubble"
        - "james webb"

# =============================================================================
# CONTENT FILTERING
# =============================================================================
filters:
  global_max_items: 6
  max_per_source: 2
  dedupe_days: 7
  
  block_keywords:
    - "shooting"
    - "killed"
    - "dead"
    - "crash"
    - "terror"
    - "war"
    - "flood"
    - "earthquake"
    - "outbreak"
    - "scandal"
  
  boost_keywords:
    - "research"
    - "discovered"
    - "developed"
    - "published"
    - "demonstrated"
    - "launched"
    - "analysis"
    - "breakthrough"
    - "system"
    - "method"
    - "capability"

# =============================================================================
# OPENAI CONFIGURATION (LLM for Script Generation)
# =============================================================================
openai:
  llm:
    model: "gpt-4o-mini"      # Options: gpt-4o, gpt-4o-mini, gpt-4-turbo
    temperature: 0.7
    max_tokens: 2000
  
  # Script generation hints
  script_hints:
    - "Explain WHY things matter, not just what happened"
    - "Add context - how does this fit into the bigger picture?"
    - "Use specific numbers and details when relevant"
    - "Vary sentence length for natural conversation"
    - "Keep tone conversational but informed - like explaining to a smart friend"
    - "Avoid hyperbole - let interesting facts speak for themselves"
    - "Do NOT include music cues like [intro music] or [outro music]"
    - "Do NOT write stage directions - only write text meant to be spoken aloud"
    - "Start directly with your greeting, end directly with your closing"

# =============================================================================
# TEXT-TO-SPEECH CONFIGURATION
# =============================================================================
# Extensible provider system - easily swap between TTS services
#
# Available providers:
#   - openai: OpenAI TTS (default) - tts-1, tts-1-hd models
#   - elevenlabs: ElevenLabs TTS (requires API key + pip install elevenlabs)
#
# To add new providers: create a class in podcast/tts/ that extends TTSProvider
# =============================================================================
tts:
  provider: "openai"          # Options: openai, elevenlabs
  
  # --- OpenAI TTS Settings (active) ---
  openai:
    # Model selection
    # tts-1: Fast, cheaper ($15/1M chars) - supports 9 voices
    # tts-1-hd: Better quality ($30/1M chars) - supports 9 voices  
    # gpt-4o-mini-tts: Latest model with all 13 voices + instructions support
    model: "gpt-4o-mini-tts"  
    
    # Voice selection - ALL 13 voices available with gpt-4o-mini-tts
    # RECOMMENDED FOR BEST QUALITY: marin, cedar
    # alloy - neutral, balanced
    # ash - NEW voice
    # ballad - NEW voice (gpt-4o-mini-tts only)
    # cedar - BEST QUALITY (gpt-4o-mini-tts only)
    # coral - NEW voice
    # echo - male, warm, conversational
    # fable - British accent, expressive storytelling ⭐ YOUR CHOICE
    # marin - BEST QUALITY (gpt-4o-mini-tts only)
    # nova - friendly, warm, energetic
    # onyx - deep male, authoritative
    # sage - NEW voice
    # shimmer - soft, gentle, calming
    # verse - NEW voice (gpt-4o-mini-tts only)
    voice: "fable"            # British, expressive storyteller - great for engaging narratives
    
    # Speech speed: 0.25 (very slow) to 4.0 (very fast)
    speed: 0.95               # Slightly faster for energizing morning vibe
    
    # Output format (for TTS generation)
    # MP3 works great with gpt-4o-mini-tts - clean output with minimal processing needed
    format: "mp3"             # Options: mp3, opus, aac, flac, wav, pcm
    
    # Instructions (optional) - Only works with gpt-4o-mini-tts
    # Control: accent, emotional range, intonation, speed, tone, whispering
    # Now supported in Python SDK (openai>=2.0.0)!
    instructions: "Warm, engaging storyteller with natural British charm. Clear enunciation with expressive delivery and natural pacing. Convey enthusiasm while maintaining an authentic, conversational tone."
  
  # --- ElevenLabs TTS Settings (disabled) ---
  # To enable: set provider to "elevenlabs" and configure below
  # Requires: pip install elevenlabs, ELEVENLABS_API_KEY env var
  elevenlabs:
    # Voice ID or preset name (e.g., "rachel", "adam", "josh")
    # Full list: https://elevenlabs.io/voice-library
    voice_id: "rachel"
    
    # Model options:
    #   eleven_multilingual_v2 - Best quality, supports many languages
    #   eleven_turbo_v2_5 - Low latency, good quality
    model_id: "eleven_multilingual_v2"
    
    # Voice control (0.0 to 1.0)
    stability: 0.5            # Higher = more consistent, lower = more expressive
    similarity_boost: 0.75    # Higher = closer to original voice
    
    # Output format
    format: "mp3_44100_128"   # Options: mp3_44100_128, mp3_44100_192, pcm_*

  # --- Audio Post-Processing ---
  # Ultra-light processing optimized for gpt-4o-mini-tts + fable voice
  # Removes low-end rumble and applies minimal polish (output: MP3 @ 192k)
  #
  # Presets:
  #   none         - No processing (pure TTS output)
  #   fable_light  - Ultra-minimal: removes rumble, gentle polish (RECOMMENDED) ⭐
  #   clarity      - Remove tin-can sound (for older tts-1 model)
  #   podcast      - Full professional podcast processing chain
  audio_processing:
    enabled: true             # Enable/disable post-processing
    preset: "fable_light"     # Ultra-light processing optimized for fable

# =============================================================================
# STORAGE - Cloudflare R2
# =============================================================================
storage:
  provider: "r2"
  
  r2:
    bucket: "vibecast"
    key_prefix: "episodes/"
    public_base_url: ""                  # Override: VIBECAST_R2_PUBLIC_URL (base URL, e.g. https://pub-xxx.r2.dev)
    cache_control: "public, max-age=31536000, immutable"

# =============================================================================
# RSS FEED
# =============================================================================
feed:
  max_episodes: 30
  episode_title_format: "{podcast_title} — {date}"

# =============================================================================
# SCHEDULE (reference only - actual cron is in GitHub Actions)
# =============================================================================
schedule:
  timezone: "Europe/Berlin"              # Override: VIBECAST_TIMEZONE
  target_hour: 5                         # 05:00 local time

