# =============================================================================
# VIBECAST CONFIGURATION
# =============================================================================
# This file defines everything about your podcast's personality.
# Change the vibe, change the show.
#
# ⚠️  IF YOU FORKED/CLONED THIS REPO: Update these before deploying!
#     - podcast.author (line ~65)
#     - podcast.github_url (line ~73)
#     - location.name, lat, lon (line ~107-109)
#
# PRIVACY TIP: Use environment variables instead of hardcoding personal info.
# Set these in .env (local) or GitHub Secrets (for Actions):
#   - VIBECAST_AUTHOR, VIBECAST_OWNER_EMAIL
#   - VIBECAST_LOCATION_NAME, VIBECAST_LOCATION_LAT, VIBECAST_LOCATION_LON
#   - VIBECAST_SITE_URL, VIBECAST_FEED_URL, VIBECAST_R2_PUBLIC_URL
#   - VIBECAST_TIMEZONE
#
# See .env.example for a complete template.
# =============================================================================

# =============================================================================
# THE VIBE - Core personality of your podcast
# =============================================================================
vibe:
  name: "Morning Vibe"
  
  mood:
    primary: "energizing"
    secondary: "optimistic"
    energy: "uplifting-momentum"
  
  voice_persona:
    name: "Your hype friend with the best news"
    personality:
      - "radiates genuine excitement and enthusiasm"
      - "makes you feel like today is going to be amazing"
      - "speaks with infectious energy and warmth"
      - "celebrates wins big and small with real joy"
      - "leaves you feeling fired up and ready to take on the world"
    greetings:
      - "Good morning! Let's get this day started right."
      - "Hey! Ready for some fuel for your day? Let's go."
      - "Rise and shine, superstar - today's going to be a good one."
      - "Morning! I've got good news, great vibes, and zero reasons not to smile."
    closings:
      - "Now get out there and crush it. You've absolutely got this!"
      - "That's your spark for today - go light up the world."
      - "Alright, you're fueled up. Go make something happen!"
      - "Until tomorrow - stay fired up, stay awesome."
  
  avoid:
    emotions: ["fear", "anxiety", "outrage", "doom", "dread"]
    language: ["breaking", "shocking", "you won't believe", "urgent", "crisis"]
    topics: ["violence", "disaster", "conflict", "controversy"]
  
  embrace:
    emotions: ["excitement", "hope", "joy", "motivation", "wonder", "enthusiasm"]
    language: ["incredible", "amazing", "launched", "achieved", "breakthrough", "inspiring"]
    topics: ["innovation", "achievements", "science", "community", "progress", "adventure"]

# =============================================================================
# PODCAST IDENTITY
# =============================================================================
podcast:
  title: "Vibecast: Morning Vibe"
  tagline: "Good news to fuel your day"
  description: "A short daily podcast with weather, inspiring stories, and a reason to get excited about today."
  author: "Your Name"                    # Override: VIBECAST_AUTHOR
  language: "en-us"
  category: "News"
  subcategory: "Daily News"
  explicit: "no"
  artwork_url: ""
  site_url: ""                           # Override: VIBECAST_SITE_URL
  feed_url: ""                           # Override: VIBECAST_FEED_URL
  github_url: "https://github.com/domcritchlow/vibecast"  # Link shown in footer

# =============================================================================
# EPISODE STRUCTURE
# =============================================================================
episode:
  target_minutes: 4
  
  structure:
    - segment: "greeting"
      duration: "~15 seconds"
    - segment: "weather"
      duration: "~30 seconds"
    - segment: "stories"
      duration: "~2.5 minutes"
      count: "4-6"
    - segment: "closing"
      duration: "~30 seconds"
  
  pacing:
    include_pauses: true
    pause_between_stories: "0.6s"
    pause_after_greeting: "0.5s"
    overall_tempo: "upbeat"

# =============================================================================
# LOCATION (for weather)
# =============================================================================
# Set your location via environment variables for privacy:
#   VIBECAST_LOCATION_NAME="Stuttgart, Germany"
#   VIBECAST_LOCATION_LAT=48.7758
#   VIBECAST_LOCATION_LON=9.1829
#
location:
  name: "Your City"                      # Override: VIBECAST_LOCATION_NAME
  lat: 0.0                               # Override: VIBECAST_LOCATION_LAT
  lon: 0.0                               # Override: VIBECAST_LOCATION_LON
  units: "celsius"                       # Options: celsius, fahrenheit

# =============================================================================
# CONTENT SOURCES
# =============================================================================
sources:
  rss:
    # --- Positive anchors ---
    - name: "Positive News"
      url: "https://positive.news/feed/"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["anchor", "positive"]

    - name: "Good News Network"
      url: "https://www.goodnewsnetwork.org/feed/"
      enabled: true
      max_items: 2
      trust_score: 0.90
      tags: ["anchor", "positive"]

    # --- AI ---
    - name: "OpenAI News"
      url: "https://openai.com/news/rss.xml"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["ai"]

    - name: "Hacker News (AI filtered)"
      url: "https://hnrss.org/newest?q=AI+OR+LLM+OR+agent+OR+robot"
      enabled: true
      max_items: 2
      trust_score: 0.75
      tags: ["ai", "tech"]

    # --- Space ---
    - name: "NASA Breaking News"
      url: "https://www.nasa.gov/rss/dyn/breaking_news.rss"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["space"]

    - name: "NASA JPL News"
      url: "https://www.jpl.nasa.gov/feeds/news/"
      enabled: true
      max_items: 2
      trust_score: 0.95
      tags: ["space"]

    - name: "Space.com"
      url: "https://www.space.com/feeds/all"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["space"]

    # --- Running ---
    - name: "iRunFar"
      url: "https://www.irunfar.com/feed"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["running", "fitness"]

    # --- Design ---
    - name: "Dezeen"
      url: "https://www.dezeen.com/feed/"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["design"]

    - name: "Design Milk"
      url: "https://feeds.feedburner.com/design-milk"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["design"]

    # --- NYC politics ---
    - name: "NY1 Politics"
      url: "https://www.ny1.com/services/contentfeed.nyc%7Call-boroughs%7Cpolitics.hero.rss"
      enabled: true
      max_items: 1
      trust_score: 0.80
      tags: ["nyc", "politics"]

    - name: "Gothamist (NYC)"
      url: "https://gothamist.com/feed"
      enabled: true
      max_items: 1
      trust_score: 0.75
      tags: ["nyc", "politics"]


  api: []
  
  weather:
    provider: "open-meteo"
    include_forecast: true
    forecast_days: 1

  # --- Episode artwork ---
  # Image shown for each episode in podcast apps
  episode_image:
    provider: "nasa"           # Options: nasa (more providers coming)
    
    # NASA-specific settings
    nasa:
      prefer: "apod"           # apod (daily astronomy photo), library (searchable archive), random
      search_terms:            # Used when fetching from NASA Image Library
        - "earth from space"
        - "nebula"
        - "galaxy"
        - "aurora"
        - "sunrise from space"
        - "hubble"
        - "james webb"

# =============================================================================
# CONTENT FILTERING
# =============================================================================
filters:
  global_max_items: 6
  max_per_source: 2
  dedupe_days: 7
  
  block_keywords:
    - "shooting"
    - "killed"
    - "dead"
    - "crash"
    - "terror"
    - "war"
    - "flood"
    - "earthquake"
    - "outbreak"
    - "scandal"
  
  boost_keywords:
    - "breakthrough"
    - "rescued"
    - "discovered"
    - "community"
    - "innovation"
    - "launched"
    - "achieved"
    - "record"
    - "milestone"
    - "incredible"
    - "inspiring"

# =============================================================================
# OPENAI CONFIGURATION (LLM for Script Generation)
# =============================================================================
openai:
  llm:
    model: "gpt-4o-mini"      # Options: gpt-4o, gpt-4o-mini, gpt-4-turbo
    temperature: 0.7
    max_tokens: 2000
  
  # Script generation hints
  script_hints:
    - "Use present tense for immediacy and energy"
    - "Vary sentence length - punchy short sentences build momentum"
    - "Include sensory details when relevant"
    - "Make transitions feel natural and keep the energy flowing"
    - "Use exclamation points sparingly but genuinely when excited"
    - "Do NOT include music cues like [intro music] or [outro music]"
    - "Do NOT write stage directions - only write text meant to be spoken aloud"
    - "Start directly with your greeting, end directly with your closing"

# =============================================================================
# TEXT-TO-SPEECH CONFIGURATION
# =============================================================================
# Extensible provider system - easily swap between TTS services
#
# Available providers:
#   - openai: OpenAI TTS (default) - tts-1, tts-1-hd models
#   - elevenlabs: ElevenLabs TTS (requires API key + pip install elevenlabs)
#
# To add new providers: create a class in podcast/tts/ that extends TTSProvider
# =============================================================================
tts:
  provider: "openai"          # Options: openai, elevenlabs
  
  # --- OpenAI TTS Settings (active) ---
  openai:
    # Model selection
    # tts-1: Fast, cheaper ($15/1M chars) - supports 9 voices
    # tts-1-hd: Better quality ($30/1M chars) - supports 9 voices  
    # gpt-4o-mini-tts: Latest model with all 13 voices + instructions support
    model: "gpt-4o-mini-tts"  
    
    # Voice selection - ALL 13 voices available with gpt-4o-mini-tts
    # RECOMMENDED FOR BEST QUALITY: marin, cedar
    # alloy - neutral, balanced
    # ash - NEW voice
    # ballad - NEW voice (gpt-4o-mini-tts only)
    # cedar - BEST QUALITY (gpt-4o-mini-tts only)
    # coral - NEW voice
    # echo - male, warm, conversational
    # fable - British accent, expressive storytelling ⭐ YOUR CHOICE
    # marin - BEST QUALITY (gpt-4o-mini-tts only)
    # nova - friendly, warm, energetic
    # onyx - deep male, authoritative
    # sage - NEW voice
    # shimmer - soft, gentle, calming
    # verse - NEW voice (gpt-4o-mini-tts only)
    voice: "fable"            # British, expressive storyteller - great for engaging narratives
    
    # Speech speed: 0.25 (very slow) to 4.0 (very fast)
    speed: 0.95               # Slightly faster for energizing morning vibe
    
    # Output format (for TTS generation)
    # MP3 works great with gpt-4o-mini-tts - clean output with minimal processing needed
    format: "mp3"             # Options: mp3, opus, aac, flac, wav, pcm
    
    # Instructions (optional) - Only works with gpt-4o-mini-tts
    # Control: accent, emotional range, intonation, speed, tone, whispering
    # Now supported in Python SDK (openai>=2.0.0)!
    instructions: "Warm, engaging storyteller with natural British charm. Clear enunciation with expressive delivery and natural pacing. Convey enthusiasm while maintaining an authentic, conversational tone."
  
  # --- ElevenLabs TTS Settings (disabled) ---
  # To enable: set provider to "elevenlabs" and configure below
  # Requires: pip install elevenlabs, ELEVENLABS_API_KEY env var
  elevenlabs:
    # Voice ID or preset name (e.g., "rachel", "adam", "josh")
    # Full list: https://elevenlabs.io/voice-library
    voice_id: "rachel"
    
    # Model options:
    #   eleven_multilingual_v2 - Best quality, supports many languages
    #   eleven_turbo_v2_5 - Low latency, good quality
    model_id: "eleven_multilingual_v2"
    
    # Voice control (0.0 to 1.0)
    stability: 0.5            # Higher = more consistent, lower = more expressive
    similarity_boost: 0.75    # Higher = closer to original voice
    
    # Output format
    format: "mp3_44100_128"   # Options: mp3_44100_128, mp3_44100_192, pcm_*

  # --- Audio Post-Processing ---
  # Ultra-light processing optimized for gpt-4o-mini-tts + fable voice
  # Removes low-end rumble and applies minimal polish (output: MP3 @ 192k)
  #
  # Presets:
  #   none         - No processing (pure TTS output)
  #   fable_light  - Ultra-minimal: removes rumble, gentle polish (RECOMMENDED) ⭐
  #   clarity      - Remove tin-can sound (for older tts-1 model)
  #   podcast      - Full professional podcast processing chain
  audio_processing:
    enabled: true             # Enable/disable post-processing
    preset: "fable_light"     # Ultra-light processing optimized for fable

# =============================================================================
# STORAGE - Cloudflare R2
# =============================================================================
storage:
  provider: "r2"
  
  r2:
    bucket: "vibecast"
    key_prefix: "episodes/"
    public_base_url: ""                  # Override: VIBECAST_R2_PUBLIC_URL (base URL, e.g. https://pub-xxx.r2.dev)
    cache_control: "public, max-age=31536000, immutable"

# =============================================================================
# RSS FEED
# =============================================================================
feed:
  max_episodes: 30
  episode_title_format: "{podcast_title} — {date}"

# =============================================================================
# SCHEDULE (reference only - actual cron is in GitHub Actions)
# =============================================================================
schedule:
  timezone: "Europe/Berlin"              # Override: VIBECAST_TIMEZONE
  target_hour: 5                         # 05:00 local time

